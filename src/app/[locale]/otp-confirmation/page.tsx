"use client"

import { useCallback, useRef, useState } from "react"

import { OtpNotification } from "@/types/interfaces/otp-notifications.interface"
import { cn } from "@/lib/utils"
import { Badge } from "@/components/badge"
import ConfirmationDialog from "@/components/confirmationDialog"
import OtpList from "@/components/otpList"
import RiderDetails from "@/components/riderDetails"
import SearchInput from "@/components/searchInput"
import {
  fontBodyBold,
  fontBodyNormal,
  fontHeadline,
  fontTitle1,
} from "@/styles/typography"

// Mock data with different statuses
const mockOtpNotifications: OtpNotification[] = [
  {
    id: 674951,
    account_id: 296571905,
    interface_id: "1",
    service_provider_id: 1,
    otp_mode_id: 1,
    name: "Nasser Alsubai",
    picture: {
      cid: "avatar1.jpg",
      type: "image/jpeg",
      name: "NA",
    },
    phone_number: "+1234567890",
    email: "nasser@example.com",
    otp_code: "674951",
    status: "sent",
    created_at: "2024-02-09T10:24:00Z",
    expiry_at: null,
    ip_address: "192.168.1.1",
    user_agent: "Mozilla",
    entity_1_id: "1",
    entity_1_type: "order",
    entity_2_id: "1",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_1_value: "86.60",
    field_2_key: "previous_order_id",
    field_2_value: "12345",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12346",
    field_5_key: "cash_status",
    field_5_value: "collected",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-001",
    previous_brand_currency: "$",
  },
  {
    id: 674952,
    account_id: 296571906,
    interface_id: "2",
    service_provider_id: 1,
    otp_mode_id: 1,
    name: "John Doe",
    picture: {
      cid: "avatar2.jpg",
      type: "image/jpeg",
      name: "JD",
    },
    phone_number: "+1234567891",
    email: "john@example.com",
    otp_code: "123456",
    status: "verify",
    created_at: "2024-02-09T10:20:00Z",
    expiry_at: null,
    ip_address: "192.168.1.2",
    user_agent: "Mozilla",
    entity_1_id: "2",
    entity_1_type: "order",
    entity_2_id: "2",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_1_value: "95.50",
    field_2_key: "previous_order_id",
    field_2_value: "12347",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12348",
    field_5_key: "cash_status",
    field_5_value: "deposited",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-002",
    previous_brand_currency: "$",
  },
  {
    id: 674953,
    account_id: 296571907,
    name: "Sarah Smith",
    picture: { cid: "avatar3.jpg", type: "image/jpeg", name: "SS" },
    otp_code: "987654",
    status: "sent",
    created_at: "2024-02-09T10:15:00Z",
    field_1_value: "120.75",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "3",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "sarah@example.com",
    expiry_at: null,
    ip_address: "192.168.1.3",
    user_agent: "Chrome",
    entity_1_id: "3",
    entity_1_type: "order",
    entity_2_id: "3",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12349",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12350",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-003",
  },
  {
    id: 674954,
    account_id: 296571908,
    name: "Mike Johnson",
    picture: { cid: "avatar4.jpg", type: "image/jpeg", name: "MJ" },
    otp_code: "456789",
    status: "verify",
    created_at: "2024-02-09T10:10:00Z",
    field_1_value: "75.25",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "4",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "mike@example.com",
    expiry_at: null,
    ip_address: "192.168.1.4",
    user_agent: "Firefox",
    entity_1_id: "4",
    entity_1_type: "order",
    entity_2_id: "4",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12351",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12352",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-004",
  },
  {
    id: 674955,
    account_id: 296571909,
    name: "Emma Wilson",
    picture: { cid: "avatar5.jpg", type: "image/jpeg", name: "EW" },
    otp_code: "234567",
    status: "sent",
    created_at: "2024-02-09T10:05:00Z",
    field_1_value: "150.00",
    field_5_value: "deposited",
    previous_brand_currency: "$",
    interface_id: "5",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "emma@example.com",
    expiry_at: null,
    ip_address: "192.168.1.5",
    user_agent: "Safari",
    entity_1_id: "5",
    entity_1_type: "order",
    entity_2_id: "5",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12353",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12354",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-005",
  },
  {
    id: 674956,
    account_id: 296571910,
    name: "David Brown",
    picture: { cid: "avatar6.jpg", type: "image/jpeg", name: "DB" },
    otp_code: "345678",
    status: "verify",
    created_at: "2024-02-09T10:00:00Z",
    field_1_value: "200.50",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "6",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "david@example.com",
    expiry_at: null,
    ip_address: "192.168.1.6",
    user_agent: "Edge",
    entity_1_id: "6",
    entity_1_type: "order",
    entity_2_id: "6",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12355",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12356",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-006",
  },
  {
    id: 674957,
    account_id: 296571911,
    name: "Lisa Anderson",
    picture: { cid: "avatar7.jpg", type: "image/jpeg", name: "LA" },
    otp_code: "567890",
    status: "sent",
    created_at: "2024-02-09T09:55:00Z",
    field_1_value: "180.25",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "7",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "lisa@example.com",
    expiry_at: null,
    ip_address: "192.168.1.7",
    user_agent: "Chrome",
    entity_1_id: "7",
    entity_1_type: "order",
    entity_2_id: "7",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12357",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12358",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-007",
  },
  {
    id: 674958,
    account_id: 296571912,
    name: "Tom Wilson",
    picture: { cid: "avatar8.jpg", type: "image/jpeg", name: "TW" },
    otp_code: "678901",
    status: "verify",
    created_at: "2024-02-09T09:50:00Z",
    field_1_value: "95.75",
    field_5_value: "deposited",
    previous_brand_currency: "$",
    interface_id: "8",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "tom@example.com",
    expiry_at: null,
    ip_address: "192.168.1.8",
    user_agent: "Firefox",
    entity_1_id: "8",
    entity_1_type: "order",
    entity_2_id: "8",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12359",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12360",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-008",
  },
  {
    id: 674959,
    account_id: 296571913,
    name: "Anna Lee",
    picture: { cid: "avatar9.jpg", type: "image/jpeg", name: "AL" },
    otp_code: "789012",
    status: "sent",
    created_at: "2024-02-09T09:45:00Z",
    field_1_value: "135.50",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "9",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "anna@example.com",
    expiry_at: null,
    ip_address: "192.168.1.9",
    user_agent: "Safari",
    entity_1_id: "9",
    entity_1_type: "order",
    entity_2_id: "9",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12361",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12362",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-009",
  },
  {
    id: 674960,
    account_id: 296571914,
    name: "Peter Chen",
    picture: { cid: "avatar10.jpg", type: "image/jpeg", name: "PC" },
    otp_code: "890123",
    status: "verify",
    created_at: "2024-02-09T09:40:00Z",
    field_1_value: "225.00",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "10",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "peter@example.com",
    expiry_at: null,
    ip_address: "192.168.1.10",
    user_agent: "Edge",
    entity_1_id: "10",
    entity_1_type: "order",
    entity_2_id: "10",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12363",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12364",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-010",
  },
  {
    id: 674961,
    account_id: 296571915,
    name: "Rachel Green",
    picture: { cid: "avatar11.jpg", type: "image/jpeg", name: "RG" },
    otp_code: "901234",
    status: "sent",
    created_at: "2024-02-09T09:35:00Z",
    field_1_value: "175.25",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "11",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "rachel@example.com",
    expiry_at: null,
    ip_address: "192.168.1.11",
    user_agent: "Chrome",
    entity_1_id: "11",
    entity_1_type: "order",
    entity_2_id: "11",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12365",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12366",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-011",
  },
  {
    id: 674962,
    account_id: 296571916,
    name: "Ross Geller",
    picture: { cid: "avatar12.jpg", type: "image/jpeg", name: "RG" },
    otp_code: "012345",
    status: "verify",
    created_at: "2024-02-09T09:30:00Z",
    field_1_value: "145.75",
    field_5_value: "deposited",
    previous_brand_currency: "$",
    interface_id: "12",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "ross@example.com",
    expiry_at: null,
    ip_address: "192.168.1.12",
    user_agent: "Firefox",
    entity_1_id: "12",
    entity_1_type: "order",
    entity_2_id: "12",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12367",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12368",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-012",
  },
  {
    id: 674963,
    account_id: 296571917,
    name: "Monica Bing",
    picture: { cid: "avatar13.jpg", type: "image/jpeg", name: "MB" },
    otp_code: "123789",
    status: "sent",
    created_at: "2024-02-09T09:25:00Z",
    field_1_value: "195.50",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "13",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "monica@example.com",
    expiry_at: null,
    ip_address: "192.168.1.13",
    user_agent: "Safari",
    entity_1_id: "13",
    entity_1_type: "order",
    entity_2_id: "13",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12369",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12370",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-013",
  },
  {
    id: 674964,
    account_id: 296571918,
    name: "Chandler Bing",
    picture: { cid: "avatar14.jpg", type: "image/jpeg", name: "CB" },
    otp_code: "234890",
    status: "verify",
    created_at: "2024-02-09T09:20:00Z",
    field_1_value: "165.25",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "14",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "chandler@example.com",
    expiry_at: null,
    ip_address: "192.168.1.14",
    user_agent: "Edge",
    entity_1_id: "14",
    entity_1_type: "order",
    entity_2_id: "14",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12371",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12372",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-014",
  },
  {
    id: 674965,
    account_id: 296571919,
    name: "Phoebe Buffay",
    picture: { cid: "avatar15.jpg", type: "image/jpeg", name: "PB" },
    otp_code: "345901",
    status: "sent",
    created_at: "2024-02-09T09:15:00Z",
    field_1_value: "185.75",
    field_5_value: "deposited",
    previous_brand_currency: "$",
    interface_id: "15",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "phoebe@example.com",
    expiry_at: null,
    ip_address: "192.168.1.15",
    user_agent: "Chrome",
    entity_1_id: "15",
    entity_1_type: "order",
    entity_2_id: "15",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12373",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12374",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-015",
  },
  {
    id: 674966,
    account_id: 296571920,
    name: "Joey Tribbiani",
    picture: { cid: "avatar16.jpg", type: "image/jpeg", name: "JT" },
    otp_code: "456012",
    status: "verify",
    created_at: "2024-02-09T09:10:00Z",
    field_1_value: "215.50",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "16",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "joey@example.com",
    expiry_at: null,
    ip_address: "192.168.1.16",
    user_agent: "Firefox",
    entity_1_id: "16",
    entity_1_type: "order",
    entity_2_id: "16",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12375",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12376",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-016",
  },
  {
    id: 674967,
    account_id: 296571921,
    name: "Gunther Coffee",
    picture: { cid: "avatar17.jpg", type: "image/jpeg", name: "GC" },
    otp_code: "567123",
    status: "sent",
    created_at: "2024-02-09T09:05:00Z",
    field_1_value: "155.25",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "17",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "gunther@example.com",
    expiry_at: null,
    ip_address: "192.168.1.17",
    user_agent: "Safari",
    entity_1_id: "17",
    entity_1_type: "order",
    entity_2_id: "17",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12377",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12378",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-017",
  },
  {
    id: 674968,
    account_id: 296571922,
    name: "Janice Hosenstein",
    picture: { cid: "avatar18.jpg", type: "image/jpeg", name: "JH" },
    otp_code: "678234",
    status: "verify",
    created_at: "2024-02-09T09:00:00Z",
    field_1_value: "175.75",
    field_5_value: "deposited",
    previous_brand_currency: "$",
    interface_id: "18",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "janice@example.com",
    expiry_at: null,
    ip_address: "192.168.1.18",
    user_agent: "Edge",
    entity_1_id: "18",
    entity_1_type: "order",
    entity_2_id: "18",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12379",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12380",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-018",
  },
  {
    id: 674969,
    account_id: 296571923,
    name: "Richard Burke",
    picture: { cid: "avatar19.jpg", type: "image/jpeg", name: "RB" },
    otp_code: "789345",
    status: "sent",
    created_at: "2024-02-09T08:55:00Z",
    field_1_value: "205.50",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "19",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "richard@example.com",
    expiry_at: null,
    ip_address: "192.168.1.19",
    user_agent: "Chrome",
    entity_1_id: "19",
    entity_1_type: "order",
    entity_2_id: "19",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12381",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12382",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-019",
  },
  {
    id: 674970,
    account_id: 296571924,
    name: "Mike Hannigan",
    picture: { cid: "avatar20.jpg", type: "image/jpeg", name: "MH" },
    otp_code: "890456",
    status: "verify",
    created_at: "2024-02-09T08:50:00Z",
    field_1_value: "195.25",
    field_5_value: "collected",
    previous_brand_currency: "$",
    interface_id: "20",
    service_provider_id: 1,
    otp_mode_id: 1,
    phone_number: null,
    email: "mike.h@example.com",
    expiry_at: null,
    ip_address: "192.168.1.20",
    user_agent: "Firefox",
    entity_1_id: "20",
    entity_1_type: "order",
    entity_2_id: "20",
    entity_2_type: "rider",
    field_1_key: "previous_order_amount",
    field_2_key: "previous_order_id",
    field_2_value: "12383",
    field_3_key: "previous_brand_id",
    field_3_value: "1",
    field_4_key: "current_order_id",
    field_4_value: "12384",
    field_5_key: "cash_status",
    field_6_key: "brand_order_number",
    field_6_value: "ORD-020",
  },
]

export default function OtpConfirmationPage() {
  const [searchQuery, setSearchQuery] = useState("")
  const [isSearchFocused, setIsSearchFocused] = useState(false)
  const [selectedRiderId, setSelectedRiderId] = useState<number | null>(null)
  const [isDialogOpen, setIsDialogOpen] = useState(false)
  const [isPending, setIsPending] = useState(false)
  const bottomRef = useRef<HTMLDivElement>(null)

  const filteredNotifications = mockOtpNotifications.filter((notification) =>
    notification.name.toLowerCase().includes(searchQuery.toLowerCase())
  )

  const selectedRider = mockOtpNotifications.find(
    (notification) => notification.id === selectedRiderId
  )

  const handleSelectRider = useCallback((rider: OtpNotification) => {
    setSelectedRiderId(rider.id)
  }, [])

  const handleConfirmChange = () => {
    setIsPending(true)
    // Simulate API call
    setTimeout(() => {
      setIsPending(false)
      setIsDialogOpen(false)
    }, 2000)
  }

  if (mockOtpNotifications.length === 0) {
    return (
      <div className="flex h-screen items-center justify-center">
        <p className={cn(fontBodyNormal, "rounded-5 bg-white-60 px-2")}>
          There is no OTP confirmation yet!
        </p>
      </div>
    )
  }

  return (
    <div className="flex h-screen flex-col px-4">
      <h1 className={cn(fontTitle1, "py-7")}>OTP Confirmation</h1>
      <div className="mb-4 flex h-full overflow-hidden rounded-none border border-black-10 bg-white-60 lg:rounded-5">
        <div className="flex h-full w-[320px] flex-col overflow-hidden border-r border-black-10 bg-transparent">
          <div className="flex items-center justify-between p-4">
            {!isSearchFocused && (
              <div className="flex items-center gap-2">
                <h2 className={cn(fontHeadline, "font-medium text-black-100")}>
                  Pending
                </h2>
                <Badge
                  variant="black"
                  size="small"
                  count={filteredNotifications.length}
                />
              </div>
            )}
            <SearchInput
              query={searchQuery}
              setQuery={setSearchQuery}
              onFocusChange={setIsSearchFocused}
              className="w-full"
            />
          </div>
          <OtpList
            otpNotifications={filteredNotifications}
            selectedRiderId={selectedRiderId}
            handleSelectRider={handleSelectRider}
            isFetchingNextPage={false}
            bottomRef={bottomRef}
          />
        </div>
        <div className="flex flex-1 items-center justify-center bg-transparent">
          {filteredNotifications.length === 0 ? (
            <p className={cn(fontBodyNormal, "rounded-5 bg-white-100 px-2")}>
              No OTP confirmations found for the search!
            </p>
          ) : !selectedRider ? (
            <p className={cn(fontBodyNormal, "rounded-5 bg-white-100 px-2")}>
              Select a rider to see info
            </p>
          ) : (
            <RiderDetails
              selectedRider={selectedRider}
              setSelectedRiderId={setSelectedRiderId}
              setIsDialogOpen={setIsDialogOpen}
              isPending={isPending}
            />
          )}
        </div>
      </div>
      <ConfirmationDialog
        title="Collect Confirmation"
        description={
          <>
            Do you confirm the receipt of the sum of{" "}
            <span className={cn(fontBodyBold, "text-black-100")}>
              {selectedRider?.previous_brand_currency}
              {selectedRider?.field_1_value}
            </span>{" "}
            from{" "}
            <span className={cn(fontBodyBold, "text-black-100")}>
              {selectedRider?.name}
            </span>
            ?
          </>
        }
        confirmText="Confirm"
        isOpen={isDialogOpen}
        onCancel={() => setIsDialogOpen(false)}
        onConfirm={() => handleConfirmChange()}
        isPending={isPending}
      />
    </div>
  )
}
